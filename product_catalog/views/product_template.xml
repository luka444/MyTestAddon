<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="product_list_template" name="Product List">
        <t t-call="website.layout">
        <div class="container">
            <h1>Product Catalog</h1>
            <t t-if="products">
                <form method="get" action="/product" class="mb-4">
                    <div class="input-group">
                        <input type="text" name="search" t-att-value="search" class="form-control" placeholder="Search by product name..."/>
                        <button type="submit" class="btn btn-primary">Search</button>
                    </div>
                </form>
                <table class="table table-bordered">
                    <thead>
                    <tr>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Price</th>
                    </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="products" t-as="product">
                            <tr>
                            <td>
                                <t t-if="product.image_1920">
                                <img t-att-src="'data:image/png;base64,%s' % product.image_1920.decode('utf-8')"
                                        style="width: 100px; height: 100px; object-fit: cover;"/>
                                </t>
                            </td>
                            <td>
                                <t t-esc="product.name"/>
                            </td>
                            <td>
                                <t t-esc="product.description"/>
                            </td>
                            <td>
                                $<t t-esc="product.list_price"/>
                            </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </t>
            <t t-else="">
            <p>No products available.</p>
            </t>
            <t t-if="pager">
                <div class="mt-4">
                    <ul class="pagination justify-content-center">
                    <t t-foreach="pager['pages']" t-as="page">
                        <li t-att-class="'page-item %s' % ('active' if page['num'] == pager['page'] else '')">
                        <a class="page-link" t-att-href="page['url']">
                            <t t-esc="page['num']"/>
                        </a>
                        </li>
                    </t>
                    </ul>
                </div>
            </t>
        </div>
        </t>
    </template>
</odoo>
